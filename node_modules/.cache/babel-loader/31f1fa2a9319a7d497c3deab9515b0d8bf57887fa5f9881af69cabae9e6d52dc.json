{"ast":null,"code":"import { By, Builder, Key, until } from 'selenium-webdriver';\nimport { chrome } from \"selenium-webdriver/chrome\";\nclass Driver {\n  constructor(show) {\n    this.webdriver = require('selenium-webdriver');\n    this.option = this.driverOptionConfig(show);\n    this.driver = new this.webdriver.Builder().forBrowser('chrome').setChromeOptions(this.option).build();\n    this.driver.setPageLoadTimeout(60000);\n  }\n  driverOptionConfig(show) {\n    const options = new chrome.Options();\n    options.excludeSwitches(['enable-logging']);\n    options.addArguments('--ignore-certificate-errors');\n    options.addArguments('--ignore-ssl-errors');\n    options.addArguments('--disable-cache');\n    options.addArguments('enable-automation');\n    if (!show) {\n      options.addArguments('--headless');\n    }\n    return options;\n  }\n  getDriver() {\n    return this.driver;\n  }\n  async openURL(url) {\n    try {\n      await this.driver.get(url);\n      return true;\n    } catch (error) {\n      console.log(`${url} cannot be loaded`);\n      return false;\n    }\n  }\n  getCurrentURL() {\n    return this.driver.getCurrentUrl();\n  }\n  closeConnection() {\n    this.driver.quit();\n  }\n  async getElement(element) {\n    try {\n      const target = await this.driver.wait(until.elementLocated(element), 3000);\n      return target;\n    } catch (error) {\n      console.log(`Element ${element} not found`);\n    }\n  }\n  async click(element) {\n    try {\n      const target = await this.driver.wait(until.elementLocated(element), 3000);\n      await target.click();\n    } catch (error) {\n      console.log(`Time out for waiting ${element} to appear`);\n    }\n  }\n  async isPageLoaded() {\n    let loaded = false;\n    try {\n      await this.driver.wait(() => this.driver.executeScript('return document.readyState').then(state => state === 'complete'));\n      loaded = true;\n    } catch (error) {\n      loaded = false;\n    }\n    return loaded;\n  }\n  deleteCookies() {\n    return this.driver.manage().deleteAllCookies();\n  }\n  refreshPage() {\n    return this.driver.navigate().refresh();\n  }\n  clearCache() {\n    try {\n      this.driver.executeScript('window.localStorage.clear();');\n      return true;\n    } catch (error) {\n      console.log('Unable to run script');\n      return false;\n    }\n  }\n}\nexport default Driver;","map":{"version":3,"names":["By","Builder","Key","until","chrome","Driver","constructor","show","webdriver","require","option","driverOptionConfig","driver","forBrowser","setChromeOptions","build","setPageLoadTimeout","options","Options","excludeSwitches","addArguments","getDriver","openURL","url","get","error","console","log","getCurrentURL","getCurrentUrl","closeConnection","quit","getElement","element","target","wait","elementLocated","click","isPageLoaded","loaded","executeScript","then","state","deleteCookies","manage","deleteAllCookies","refreshPage","navigate","refresh","clearCache"],"sources":["/Users/nc/Desktop/BOT/UI/src/Selenium/driver.js"],"sourcesContent":["\nimport { By,Builder,Key,until } from 'selenium-webdriver';\nimport {chrome} from \"selenium-webdriver/chrome\"\n\nclass Driver {\n    constructor(show) {\n      this.webdriver = require('selenium-webdriver');\n      this.option = this.driverOptionConfig(show);\n      this.driver = new this.webdriver.Builder()\n        .forBrowser('chrome')\n        .setChromeOptions(this.option)\n        .build();\n      this.driver.setPageLoadTimeout(60000);\n    }\n  \n    driverOptionConfig(show) {\n      const options = new chrome.Options();\n      options.excludeSwitches(['enable-logging']);\n      options.addArguments('--ignore-certificate-errors');\n      options.addArguments('--ignore-ssl-errors');\n      options.addArguments('--disable-cache');\n      options.addArguments('enable-automation');\n      if (!show) {\n        options.addArguments('--headless');\n      }\n      return options;\n    }\n  \n    getDriver() {\n      return this.driver;\n    }\n  \n    async openURL(url) {\n      try {\n        await this.driver.get(url);\n        return true;\n      } catch (error) {\n        console.log(`${url} cannot be loaded`);\n        return false;\n      }\n    }\n  \n    getCurrentURL() {\n      return this.driver.getCurrentUrl();\n    }\n  \n    closeConnection() {\n      this.driver.quit();\n    }\n  \n    async getElement(element) {\n      try {\n        const target = await this.driver.wait(\n          until.elementLocated(element),\n          3000\n        );\n        return target;\n      } catch (error) {\n        console.log(`Element ${element} not found`);\n      }\n    }\n  \n    async click(element) {\n      try {\n        const target = await this.driver.wait(\n          until.elementLocated(element),\n          3000\n        );\n        await target.click();\n      } catch (error) {\n        console.log(`Time out for waiting ${element} to appear`);\n      }\n    }\n  \n    async isPageLoaded() {\n      let loaded = false;\n      try {\n        await this.driver.wait(() =>\n          this.driver.executeScript(\n            'return document.readyState'\n          ).then((state) => state === 'complete')\n        );\n        loaded = true;\n      } catch (error) {\n        loaded = false;\n      }\n      return loaded;\n    }\n  \n    deleteCookies() {\n      return this.driver.manage().deleteAllCookies();\n    }\n  \n    refreshPage() {\n      return this.driver.navigate().refresh();\n    }\n  \n    clearCache() {\n      try {\n        this.driver.executeScript('window.localStorage.clear();');\n        return true;\n      } catch (error) {\n        console.log('Unable to run script');\n        return false;\n      }\n    }\n  }\n  \n  export default Driver;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}