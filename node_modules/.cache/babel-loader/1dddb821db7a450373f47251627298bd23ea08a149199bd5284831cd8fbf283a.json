{"ast":null,"code":"import _defineProperty from\"/Users/nc/Desktop/BOT/UI/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/nc/Desktop/BOT/UI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nc/Desktop/BOT/UI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect,useRef}from\"react\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Form=function Form(_ref){var formFields=_ref.formFields,onSubmit=_ref.onSubmit,data=_ref.data;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),valid=_useState4[0],setValid=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),errorMsg=_useState6[0],setErrorMsg=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];var closeButtonRef=useRef();useEffect(function(){if(data){setFormData({});setFormData(data);}},[data]);var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});};var validation=function validation(){var errors=[];formFields.forEach(function(field){if(formData[field.name]===undefined||formData[field.name]===\"\"){errors.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"[ \",field.label,\" ] is required\"]}));//Add each error into an array and print below \n//make use of useEffect\n}});return errors;};var formSubmit=function formSubmit(event){event.preventDefault();var errors=validation();setValid(errors.length===0);setErrorMsg(errors);if(errors.length===0){onSubmit(formData);closeButtonRef.current.click();event.target.reset();setFormData({});setValid(false);}};function closeModal(){var close=document.querySelector('#closeModal');close.click();}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:valid?'collapse':'',children:/*#__PURE__*/_jsx(\"ul\",{className:\"text-danger\",children:errorMsg})}),valid&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary\",children:\"Processing\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmit,autoComplete:\"off\",children:[formFields.length>0&&formFields.map(function(field,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:field.id,className:\"form-label\",children:field.label}),// field.type === 'input'?\n// (<input type={field.type} classname=\"form-control\" id={field.id}/>):\nfield.type==='select'?/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:field.name,onChange:handleInputChange,value:formData[field.name]||'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please Select\"}),field.options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,selected:formData[field.name]&&option.value===formData[field.name],children:option.label},option.value);})]}):/*#__PURE__*/_jsx(\"input\",{type:field.type,name:field.name,className:\"form-control\",id:field.id,value:formData?formData[field.name]:'',onChange:handleInputChange})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",id:\"closeModal\",ref:closeButtonRef,children:\"Close\"})})]})]})]})});};export default Form;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","jsxs","_jsxs","jsx","_jsx","Form","_ref","formFields","onSubmit","data","_useState","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","valid","setValid","_useState5","_useState6","errorMsg","setErrorMsg","_useState7","_useState8","value","setValue","closeButtonRef","handleInputChange","event","_event$target","target","name","prevFormData","_objectSpread","_defineProperty","validation","errors","forEach","field","undefined","push","children","label","formSubmit","preventDefault","length","current","click","reset","closeModal","close","document","querySelector","className","autoComplete","map","index","htmlFor","id","type","onChange","options","option","selected","ref"],"sources":["/Users/nc/Desktop/BOT/UI/src/Components/form.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect,useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Form = ({ formFields, onSubmit, data }) => {\r\n    const [formData, setFormData] = useState({})\r\n    const [valid, setValid] = useState(false)\r\n    const [errorMsg, setErrorMsg] = useState()\r\n\r\n    const [value, setValue] = useState()\r\n    const closeButtonRef = useRef();\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            setFormData({})\r\n            setFormData(data)\r\n        }\r\n    }, [data])\r\n\r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target\r\n\r\n        setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\r\n    };\r\n\r\n    const validation = () => {\r\n        const errors = []\r\n        formFields.forEach((field) => {\r\n            if (formData[field.name] === undefined || formData[field.name] === \"\") {\r\n                errors.push(<li>[ {field.label} ] is required</li>)\r\n\r\n                //Add each error into an array and print below \r\n                //make use of useEffect\r\n\r\n            }\r\n        });\r\n        return errors\r\n\r\n    }\r\n\r\n    const formSubmit = (event) => {\r\n        event.preventDefault()\r\n        const errors = validation()\r\n        setValid(errors.length === 0)\r\n        setErrorMsg(errors)\r\n\r\n        if (errors.length === 0) {\r\n            \r\n            onSubmit(formData)\r\n            closeButtonRef.current.click();\r\n            event.target.reset()\r\n            setFormData({})\r\n            setValid(false)\r\n        }\r\n\r\n    }\r\n\r\n    function closeModal() {\r\n        let close = document.querySelector('#closeModal')\r\n        close.click()\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <div className={valid ? 'collapse' : ''}>\r\n                    <ul className=\"text-danger\">\r\n                        {\r\n                            errorMsg\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                {\r\n                    valid && <div className=\"alert alert-primary\">Processing</div>\r\n                }\r\n                <form onSubmit={formSubmit} autoComplete=\"off\">\r\n                    {   formFields.length > 0 &&\r\n                        formFields.map((field, index) =>\r\n                            <div className=\"mb-3\" key={index}>\r\n                                <label htmlFor={field.id} className=\"form-label\">{field.label}</label>\r\n                                {\r\n                                    // field.type === 'input'?\r\n                                    // (<input type={field.type} classname=\"form-control\" id={field.id}/>):\r\n                                    field.type === 'select' ?\r\n                                        (<select className=\"form-select\" name={field.name} onChange={handleInputChange} value={formData[field.name] || ''} >\r\n                                            <option value=\"\">Please Select</option>\r\n                                            {field.options.map((option) =>\r\n                                                <option key={option.value} value={option.value} selected={formData[field.name] && option.value === formData[field.name]}>{option.label}</option>\r\n                                            )}\r\n                                        </select>) :\r\n                                        (<input type={field.type} name={field.name} className=\"form-control\" id={field.id}      value={\r\n                                           formData ? formData[field.name] : ''\r\n                                            \r\n                                        }\r\n                                         onChange={handleInputChange}  />)\r\n\r\n                                }\r\n                            </div>\r\n\r\n                        )\r\n                    }\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-dark\">Submit</button>\r\n                        <div className=\"collapse\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-secondary\"\r\n                                data-bs-dismiss=\"modal\"\r\n                                id=\"closeModal\"\r\n                                ref={closeButtonRef}\r\n                            >\r\n                                Close\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}