{"ast":null,"code":"import _defineProperty from\"/Users/nc/Desktop/BOT/UI/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/nc/Desktop/BOT/UI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nc/Desktop/BOT/UI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Form=function Form(_ref){var formFields=_ref.formFields,onSubmit=_ref.onSubmit,data=_ref.data;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),valid=_useState4[0],setValid=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),errorMsg=_useState6[0],setErrorMsg=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];useEffect(function(){if(data){setFormData(data);}},[data]);var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});};var validation=function validation(){var errors=[];formFields.forEach(function(field){if(formData[field.name]===undefined||formData[field.name]===\"\"){errors.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"[ \",field.label,\" ] is required\"]}));//Add each error into an array and print below \n//make use of useEffect\n}});return errors;};var formSubmit=function formSubmit(event){event.preventDefault();var errors=validation();setValid(errors.length===0);setErrorMsg(errors);if(errors.length===0){closeModal();onSubmit(formData);event.target.reset();setFormData({});setValid(false);}};function closeModal(){document.getElementById('closeModal').click();}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:valid?'collapse':'',children:/*#__PURE__*/_jsx(\"ul\",{className:\"text-danger\",children:errorMsg})}),valid&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary\",children:\"Processing\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmit,autoComplete:\"off\",children:[formFields.map(function(field){return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:field.id,className:\"form-label\",children:field.label}),// field.type === 'input'?\n// (<input type={field.type} classname=\"form-control\" id={field.id}/>):\nfield.type==='select'?/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:field.name,onChange:handleInputChange,value:formData[field.name]||'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please Select\"}),field.options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,selected:formData[field.name]&&option.value===formData[field.name],children:option.label},option.value);})]}):/*#__PURE__*/_jsx(\"input\",{type:field.type,name:field.name,className:\"form-control\",id:field.id,value:formData?formData[field.name]:'',onChange:handleInputChange})]});}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",id:\"closeModal\",children:\"Close\"})})]})]})]})});};export default Form;","map":{"version":3,"names":["React","useState","useEffect","Link","jsxs","_jsxs","jsx","_jsx","Form","_ref","formFields","onSubmit","data","_useState","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","valid","setValid","_useState5","_useState6","errorMsg","setErrorMsg","_useState7","_useState8","value","setValue","handleInputChange","event","_event$target","target","name","prevFormData","_objectSpread","_defineProperty","validation","errors","forEach","field","undefined","push","children","label","formSubmit","preventDefault","length","closeModal","reset","document","getElementById","click","className","autoComplete","map","htmlFor","id","type","onChange","options","option","selected"],"sources":["/Users/nc/Desktop/BOT/UI/src/Components/form.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Form = ({ formFields, onSubmit,data }) => {\r\n    const [formData, setFormData] = useState({})\r\n    const [valid, setValid] = useState(false)\r\n    const [errorMsg, setErrorMsg] = useState()\r\n\r\n    const [value,setValue] = useState()\r\n\r\n    useEffect(()=>{\r\n        if(data){\r\n            setFormData(data)\r\n        }\r\n    },[data])\r\n   \r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target\r\n        \r\n        setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\r\n    };\r\n\r\n    const validation = () => {\r\n        const errors = []\r\n        formFields.forEach((field) => {\r\n            if (formData[field.name] === undefined || formData[field.name] === \"\") {\r\n                errors.push(<li>[ {field.label} ] is required</li>)\r\n\r\n                //Add each error into an array and print below \r\n                //make use of useEffect\r\n\r\n            }\r\n\r\n        });\r\n        return errors\r\n\r\n    }\r\n\r\n    const formSubmit = (event) => {\r\n        event.preventDefault()\r\n        const errors = validation()\r\n        setValid(errors.length === 0)\r\n        setErrorMsg(errors)\r\n\r\n        if (errors.length === 0) {\r\n            closeModal()\r\n            onSubmit(formData)\r\n            event.target.reset()\r\n            setFormData({})\r\n            setValid(false)\r\n        }\r\n\r\n    }\r\n\r\n    function closeModal(){\r\n        document.getElementById('closeModal').click()\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <div className={valid ? 'collapse' : ''}>\r\n                    <ul className=\"text-danger\">\r\n                        {\r\n                            errorMsg\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                {\r\n                   valid && <div className=\"alert alert-primary\">Processing</div>\r\n                }\r\n                <form onSubmit={formSubmit} autoComplete=\"off\">\r\n                    {\r\n                        formFields.map((field) =>\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor={field.id} className=\"form-label\">{field.label}</label>\r\n                                {\r\n                                    // field.type === 'input'?\r\n                                    // (<input type={field.type} classname=\"form-control\" id={field.id}/>):\r\n                                    field.type === 'select' ?\r\n                                        (<select className=\"form-select\" name={field.name} onChange={handleInputChange} value={formData[field.name] || ''} >\r\n                                            <option value=\"\">Please Select</option>\r\n                                            {field.options.map((option) =>\r\n                                                <option key={option.value} value={option.value}  selected={formData[field.name]&&option.value === formData[field.name]}>{option.label}</option>\r\n                                            )}\r\n                                        </select>) :\r\n                                        (<input type={field.type} name={field.name} className=\"form-control\" id={field.id} value={formData?formData[field.name] : ''}  onChange={handleInputChange} />)\r\n\r\n                                }\r\n                            </div>\r\n\r\n                        )\r\n                    }\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-dark\">Submit</button>\r\n                        <div className=\"collapse\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" id=\"closeModal\">Close</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}